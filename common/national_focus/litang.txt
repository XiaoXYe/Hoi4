focus_tree = {
	id = litang_focus
	
	country = {
		factor = 0
		
		modifier = {
			add = 10
			tag = LIT
		}
	}
	
	default = no

	focus = {
		id = army_effort
		icon = GFX_goal_generic_allies_build_infantry
		x = 25
		y = 0
		cost = 5
		search_filters = {  FOCUS_FILTER_RESEARCH }
		
		ai_will_do = {
			factor = 100
		}
		
		available = {
			is_subject = no
		}

		available_if_capitulated = yes
		cancel_if_invalid = yes

		completion_reward = {
			army_experience = 5
			 
		}
	}

	focus = {
		id = LIT_situation_worse
		icon = GFX_goal_generic_allies_build_infantry
		x = 6
		y = 0
		cost = 5
		search_filters = {  FOCUS_FILTER_RESEARCH }
		
		ai_will_do = {
			factor = 100
		}
		
		available = {
			AND = {
				is_subject_of = SIC
				has_country_flag = LIT_turmoil
			}
		}

		available_if_capitulated = yes
		cancel_if_invalid = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus LIT_situation_worse"
			LIT = {
				 add_stability = -0.1
				 add_war_support = 0.1
			}
		}
	}

	focus = {
		id = LIT_socialmedia_propaganda
		icon = GFX_goal_generic_allies_build_infantry
		x = 1
		y = 1
		relative_position_id = LIT_situation_worse
		cost = 5

		prerequisite = { focus = LIT_situation_worse }

		search_filters = {  FOCUS_FILTER_RESEARCH }
		
		ai_will_do = {
			factor = 100
		}
		
		available = {
			AND = {
				is_subject_of = SIC
				has_country_flag = LIT_turmoil
			}
		}

		available_if_capitulated = yes
		cancel_if_invalid = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus LIT_socialmedia_propaganda"
			SIC = {
				add_ideas = {
					SIC_sypathy_for_LIT
				}
			}
			 
		}
	}

	focus = {
		id = LIT_stir_up_people_emotion
		icon = GFX_goal_generic_allies_build_infantry
		x = -1
		y = 1
		relative_position_id = LIT_situation_worse
		cost = 5
		prerequisite = { focus = LIT_situation_worse }

		search_filters = {  FOCUS_FILTER_RESEARCH }
		
		ai_will_do = {
			factor = 100
		}
		
		available = {
			AND = {
				is_subject_of = SIC
				has_country_flag = LIT_turmoil
			}
		}

		available_if_capitulated = yes
		cancel_if_invalid = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus LIT_stir_up_people_emotion"
			army_experience = 10
			add_manpower = 10000
			add_war_support = 0.10
			188 = {
				create_unit = {
					division = "name = \"理塘自由战士\" division_template = \"骑兵师\" start_experience_factor = 1.0"
					owner = LIT
				}
				create_unit = {
					division = "name = \"理塘自由战士\" division_template = \"骑兵师\" start_experience_factor = 1.0"
					owner = LIT
				}	
				create_unit = {
					division = "name = \"理塘自由战士\" division_template = \"骑兵师\" start_experience_factor = 1.0"
					owner = LIT
				}	
				create_unit = {
					division = "name = \"理塘自由战士\" division_template = \"骑兵师\" start_experience_factor = 1.0"
					owner = LIT
				}	
				create_unit = {
					division = "name = \"理塘自由战士\" division_template = \"骑兵师\" start_experience_factor = 1.0"
					owner = LIT
				}	
			}
		}
	}

	focus = {
		id = LIT_final_effort
		icon = GFX_goal_generic_allies_build_infantry
		x = 0
		y = 2
		relative_position_id = LIT_situation_worse
		cost = 5
		prerequisite = { focus = LIT_socialmedia_propaganda }
		prerequisite = { focus = LIT_stir_up_people_emotion }

		search_filters = {  FOCUS_FILTER_RESEARCH }
		
		ai_will_do = {
			factor = 100
		}
		
		available = {
			AND = {
				is_subject_of = SIC
				has_country_flag = LIT_turmoil
			}
		}

		available_if_capitulated = yes
		cancel_if_invalid = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus LIT_final_effort"
			army_experience = 5
			SIC = {
				end_puppet = LIT
				country_event = {
					id = sichuan.4
					days = 1
				}
			}
			LIT = {
				add_ideas = {
					LIT_fight_for_freedom
				}
			}
		}
	}

	focus = {
		id = LIT_is_free
		icon = GFX_goal_generic_allies_build_infantry
		x = 0
		y = 3
		relative_position_id = LIT_situation_worse
		cost = 1
		prerequisite = { focus = LIT_final_effort }

		search_filters = {  FOCUS_FILTER_RESEARCH }
		
		ai_will_do = {
			factor = 100
		}
		
		available = {
			NOT = { country_exists = SIC }
		}

		available_if_capitulated = yes
		cancel_if_invalid = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus LIT_is_free"
			set_country_flag = LIT_has_been_free
			remove_ideas = {
				LIT_fight_for_freedom
			}
			add_ideas = {
				LIT_new_born_city
			}
		}
	}

	focus = {
		id = LIT_assure_sichuan_stability
		icon = GFX_goal_generic_allies_build_infantry
		x = 2
		y = 4
		relative_position_id = LIT_situation_worse
		cost = 5
		prerequisite = { focus = LIT_is_free }
		
		ai_will_do = {
			factor = 100
		}
		
		available = {
			has_country_flag = LIT_has_been_free
		}

		cancel_if_invalid = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus LIT_assure_sichuan_stability"
			every_state = {
				limit = {
					is_core_of = SIC
				}
				add_core_of = LIT
				remove_core_of = SIC
			}
		}
	}

	focus = {
		id = LIT_acquire_chongqing
		icon = GFX_goal_generic_allies_build_infantry
		x = 2
		y = 5
		relative_position_id = LIT_situation_worse
		cost = 5
		prerequisite = { focus = LIT_assure_sichuan_stability }
		
		ai_will_do = {
			factor = 100
		}
		
		available = {
			has_country_flag = LIT_has_been_free
		}

		cancel_if_invalid = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus LIT_acquire_chongqing"
			CHQ = {
				country_event = {
					id = chongqing.1
					days = 1
				}
			}
		}
	}


	focus = {
		id = LIT_improve_leader_charm
		icon = GFX_goal_generic_allies_build_infantry
		x = -2
		y = 4
		relative_position_id = LIT_situation_worse
		cost = 5
		prerequisite = { focus = LIT_is_free }
		
		ai_will_do = {
			factor = 100
		}
		
		available = {
			has_country_flag = LIT_has_been_free
			has_country_flag = LIT_no_mask
		}

		cancel_if_invalid = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus LIT_improve_leader_charm"
			add_political_power = 100
			add_ideas = {
				LIT_embrace_his_smile
			}
		}
	}

	focus = {
		id = LIT_begin_study
		icon = GFX_goal_generic_allies_build_infantry
		x = -3
		y = 5
		relative_position_id = LIT_situation_worse
		cost = 5
		prerequisite = { focus = LIT_improve_leader_charm }
		
		ai_will_do = {
			factor = 0
		}
		
		available = {
			has_country_flag = LIT_has_been_free
		}

		mutually_exclusive = {
			focus = LIT_keep_innocence
		}

		cancel_if_invalid = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus LIT_begin_study"
			add_political_power = 100
		}
	}

	focus = {
		id = LIT_keep_innocence
		icon = GFX_goal_generic_allies_build_infantry
		x = -1
		y = 5
		relative_position_id = LIT_situation_worse
		cost = 5
		prerequisite = { focus = LIT_improve_leader_charm }
		
		ai_will_do = {
			factor = 100
		}
		
		available = {
			has_country_flag = LIT_has_been_free
		}

		mutually_exclusive = {
			focus = LIT_begin_study
		}

		cancel_if_invalid = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus LIT_keep_innocence"
			add_political_power = 100
		}
	}

	focus = {
		id = LIT_right_of_smile
		icon = GFX_goal_generic_allies_build_infantry
		x = 15
		y = 0
		cost = 5
		
		ai_will_do = {
			factor = 100
		}
		
		available = {
			has_country_flag = LIT_has_been_free
		}

		cancel_if_invalid = yes

		completion_reward = {
			LIT = {
				 add_stability = 0.05
				 add_timed_idea = {
					idea = GEN_remove_mask
					days = 90
				 }
				 set_country_flag = LIT_no_mask
			}
		}
	}

	focus = {
		id = LIT_improve_sanitation_habit
		icon = GFX_goal_generic_allies_build_infantry
		x = 0
		y = 1
		relative_position_id = LIT_right_of_smile
		cost = 5
		prerequisite = { focus = LIT_right_of_smile }
		
		ai_will_do = {
			factor = 100
		}

		cancel_if_invalid = yes

		completion_reward = {
			LIT = {
				 add_stability = 0.01
			}
		}
	}

	focus = {
		id = LIT_what_about_animals
		icon = GFX_goal_generic_allies_build_infantry
		x = -2
		y = 1
		relative_position_id = LIT_right_of_smile
		cost = 5
		prerequisite = { focus = LIT_right_of_smile }
		
		ai_will_do = {
			factor = 100
		}

		cancel_if_invalid = yes

		completion_reward = {
			LIT = {
				 add_stability = 0.01
			}
		}
	}

	focus = {
		id = LIT_happiness_under_covid
		icon = GFX_goal_generic_allies_build_infantry
		x = -1
		y = 2
		relative_position_id = LIT_right_of_smile
		cost = 5
		prerequisite = { focus = LIT_what_about_animals }
		prerequisite = { focus = LIT_improve_sanitation_habit }
		
		ai_will_do = {
			factor = 100
		}

		cancel_if_invalid = yes

		completion_reward = {
			swap_ideas = {
				remove_idea = GEN_pandemic
				add_idea = GEN_pandemic_decline
			}
		}
	}

	focus = {
		id = LIT_movable_hospitals
		icon = GFX_goal_generic_allies_build_infantry
		x = 2
		y = 1
		relative_position_id = LIT_right_of_smile
		cost = 5
		prerequisite = { focus = LIT_right_of_smile }
		
		ai_will_do = {
			factor = 100
		}

		cancel_if_invalid = yes

		completion_reward = {
			LIT = {
				 add_stability = 0.01
			}
		}
	}

	focus = {
		id = LIT_invest_sanitary_infrastructure
		icon = GFX_goal_generic_allies_build_infantry
		x = 2
		y = 2
		relative_position_id = LIT_right_of_smile
		cost = 5
		prerequisite = { focus = LIT_movable_hospitals }
		
		ai_will_do = {
			factor = 100
		}

		cancel_if_invalid = yes

		completion_reward = {
			LIT = {
				 add_stability = 0.01
			}
		}
	}

	focus = {
		id = LIT_go_back_to_work
		icon = GFX_goal_generic_allies_build_infantry
		x = 4
		y = 2
		relative_position_id = LIT_right_of_smile
		cost = 5
		prerequisite = { focus = LIT_movable_hospitals }
		
		available = {
			AND = {
				has_completed_focus = LIT_invest_sanitary_infrastructure
				has_completed_focus = LIT_happiness_under_covid
			}
		}

		ai_will_do = {
			factor = 100
		}

		cancel_if_invalid = yes

		completion_reward = {
			LIT = {
				 add_stability = 0.01
			}
		}
	}

	focus = {
		id = LIT_smile_still
		icon = GFX_goal_generic_allies_build_infantry
		x = 1
		y = 3
		relative_position_id = LIT_right_of_smile
		cost = 5
		prerequisite = { focus = LIT_happiness_under_covid }
		prerequisite = { focus = LIT_invest_sanitary_infrastructure }
		prerequisite = { focus = LIT_go_back_to_work }
		
		ai_will_do = {
			factor = 100
		}

		cancel_if_invalid = yes

		completion_reward = {
			swap_ideas = {
				remove_idea = GEN_pandemic_decline
				add_idea = GEN_pandemic_controlled
			}
		}
	}
}
